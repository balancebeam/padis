<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="GroupAccountAmountOrder">

	<typeAlias alias="GroupAccountAmountOrderDO"
		type="com.zhongan.core.group.dao.dataobject.GroupAccountAmountOrderDO" />

	<resultMap id="GroupAccountAmountOrderDOResultMap" class="GroupAccountAmountOrderDO">
		<result property="id" column="id" />
		<result property="busiType" column="busi_type" />
		<result property="busiNo" column="busi_no" />
		<result property="userId" column="user_id" />
		<result property="policyId" column="policy_id" />
		<result property="insurantName" column="insurant_name" />
		<result property="certiType" column="certi_type" />
		<result property="certiNo" column="certi_no" />
		<result property="type" column="type" />
		<result property="groupPolicyId" column="group_policy_id" />
		<result property="accountAmount" column="account_amount" />
		<result property="changeAccountAmount" column="change_account_amount" />
		<result property="creator" column="creator" />
		<result property="gmtCreated" column="gmt_created" />
		<result property="modifier" column="modifier" />
		<result property="gmtModified" column="gmt_modified" />
		<result property="isDeleted" column="is_deleted" />
		<result property="remark" column="remark" />
	</resultMap>

	<sql id="GroupAccountAmountOrder_do_columns">
		a1.id,
		a1.busi_type,
		a1.busi_no,
		a1.user_id,
		a1.policy_id,
		a1.insurant_name,
		a1.certi_type,
		a1.certi_no,
		a1.type,
		a1.group_policy_id,
		a1.account_amount,
		a1.change_account_amount,
		a1.creator,
		a1.gmt_created,
		a1.modifier,
		a1.gmt_modified,
		a1.is_deleted,
		a1.remark
	</sql>

	<sql id="doQueryParams" >
    <dynamic prepend="WHERE" >
     	          <isNotNull property="id" prepend="AND" >
	        <![CDATA[  
	        id = #id#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="busiType" prepend="AND" >
	        <![CDATA[  
	        busi_type = #busiType#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="busiNo" prepend="AND" >
	        <![CDATA[  
	        busi_no = #busiNo#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="userId" prepend="AND" >
	        <![CDATA[  
	        user_id = #userId#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="policyId" prepend="AND" >
	        <![CDATA[  
	        policy_id = #policyId#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="insurantName" prepend="AND" >
	        <![CDATA[  
	        insurant_name = #insurantName#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="certiType" prepend="AND" >
	        <![CDATA[  
	        certi_type = #certiType#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="certiNo" prepend="AND" >
	        <![CDATA[  
	        certi_no = #certiNo#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="type" prepend="AND" >
	        <![CDATA[  
	        type = #type#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="groupPolicyId" prepend="AND" >
	        <![CDATA[  
	        group_policy_id = #groupPolicyId#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="accountAmount" prepend="AND" >
	        <![CDATA[  
	        account_amount = #accountAmount#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="changeAccountAmount" prepend="AND" >
	        <![CDATA[  
	        change_account_amount = #changeAccountAmount#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="creator" prepend="AND" >
	        <![CDATA[  
	        creator = #creator#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="gmtCreated" prepend="AND" >
	        <![CDATA[  
	        gmt_created = #gmtCreated#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="modifier" prepend="AND" >
	        <![CDATA[  
	        modifier = #modifier#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="gmtModified" prepend="AND" >
	        <![CDATA[  
	        gmt_modified = #gmtModified#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="isDeleted" prepend="AND" >
	        <![CDATA[  
	        is_deleted = #isDeleted#  
	        ]]>  
	      </isNotNull>
                  <isNotNull property="remark" prepend="AND" >
	        <![CDATA[  
	        remark = #remark#  
	        ]]>  
	      </isNotNull>
            </dynamic>
  </sql>

	<insert id="insert" parameterClass="GroupAccountAmountOrderDO">
		INSERT INTO group_account_amount_order(
		id,
		busi_type,
		busi_no,
		user_id,
		policy_id,
		insurant_name,
		certi_type,
		certi_no,
		type,
		group_policy_id,
		account_amount,
		change_account_amount,
		creator,
		gmt_created,
		modifier,
		gmt_modified,
		is_deleted,
		remark
		)
		VALUES (
		#id#,
		#busiType#,
		#busiNo#,
		#userId#,
		#policyId#,
		#insurantName#,
		#certiType#,
		#certiNo#,
		#type#,
		#groupPolicyId#,
		#accountAmount#,
		#changeAccountAmount#,
		#creator#,
		Now(),
		#modifier#,
		Now(),
		'N',
		#remark#
		)
	</insert>

	<update id="update" parameterClass="GroupAccountAmountOrderDO">
		UPDATE group_account_amount_order
		set gmt_modified = now()
		<isNotNull property="id" prepend=",">
        <![CDATA[  
        id = #id#  
        ]]>
		</isNotNull>
		<isNotNull property="busiType" prepend=",">
        <![CDATA[  
        busi_type = #busiType#  
        ]]>
		</isNotNull>
		<isNotNull property="busiNo" prepend=",">
        <![CDATA[  
        busi_no = #busiNo#  
        ]]>
		</isNotNull>
		<isNotNull property="userId" prepend=",">
        <![CDATA[  
        user_id = #userId#  
        ]]>
		</isNotNull>
		<isNotNull property="policyId" prepend=",">
        <![CDATA[  
        policy_id = #policyId#  
        ]]>
		</isNotNull>
		<isNotNull property="insurantName" prepend=",">
        <![CDATA[  
        insurant_name = #insurantName#  
        ]]>
		</isNotNull>
		<isNotNull property="certiType" prepend=",">
        <![CDATA[  
        certi_type = #certiType#  
        ]]>
		</isNotNull>
		<isNotNull property="certiNo" prepend=",">
        <![CDATA[  
        certi_no = #certiNo#  
        ]]>
		</isNotNull>
		<isNotNull property="type" prepend=",">
        <![CDATA[  
        type = #type#  
        ]]>
		</isNotNull>
		<isNotNull property="groupPolicyId" prepend=",">
        <![CDATA[  
        group_policy_id = #groupPolicyId#  
        ]]>
		</isNotNull>
		<isNotNull property="accountAmount" prepend=",">
        <![CDATA[  
        account_amount = #accountAmount#  
        ]]>
		</isNotNull>
		<isNotNull property="changeAccountAmount" prepend=",">
        <![CDATA[  
        change_account_amount = #changeAccountAmount#  
        ]]>
		</isNotNull>
		<isNotNull property="modifier" prepend=",">
        <![CDATA[  
        modifier = #modifier#  
        ]]>
		</isNotNull>
		<isNotNull property="isDeleted" prepend=",">
        <![CDATA[  
        is_deleted = #isDeleted#  
        ]]>
		</isNotNull>
		<isNotNull property="remark" prepend=",">
        <![CDATA[  
        remark = #remark#  
        ]]>
		</isNotNull>
		WHERE id = #id#
	</update>

	<select id="findListByDO" resultMap="GroupAccountAmountOrderDOResultMap"
		parameterClass="GroupAccountAmountOrderDO">
		SELECT
		<include refid="GroupAccountAmountOrder_do_columns" />
		FROM group_account_amount_order a1
		<include refid="doQueryParams" />
	</select>

	<select id="findListNoPolicyId" resultMap="GroupAccountAmountOrderDOResultMap"
		parameterClass="GroupAccountAmountOrderDO">
		SELECT
		<include refid="GroupAccountAmountOrder_do_columns" />
		FROM group_account_amount_order a1 where is_deleted = "N" and
		(policy_id is null or remark = "N")
	</select>


	<update id="delete" parameterClass="java.lang.Integer">
		UPDATE group_account_amount_order
		set gmt_modified = now() ,
		is_deleted = 'Y'
		WHERE id = #id#
	</update>

	<select id="countGroupAccountAmountOrderByCondition"
		resultClass="java.lang.Integer" parameterClass="GroupAccountAmountOrderDO">
		SELECT
		count(a1.id)
		FROM group_account_amount_order a1 where is_deleted = "N"
	</select>

</sqlMap>