<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="GroupInsuranceCommonExtension" >

  <typeAlias alias="groupInsuranceCommonExtensionDO" type="com.zhongan.core.group.dao.dataobject.GroupInsuranceCommonExtensionDO" />

  <resultMap id="groupInsuranceCommonExtensionDOResultMap" class="groupInsuranceCommonExtensionDO" >
    <result property="id" column="id" />
    <result property="creator" column="creator" />
    <result property="gmtCreated" column="gmt_created" />
    <result property="modifier" column="modifier" />
    <result property="gmtModified" column="gmt_modified" />
    <result property="isDeleted" column="is_deleted" />
    <result property="insurantName" column="insurant_name" />
    <result property="certiType" column="certi_type" />
    <result property="certiNo" column="certi_no" />
    <result property="birthday" column="birthday" />
    <result property="gender" column="gender" />
    <result property="effectiveDate" column="effective_date" />
    <result property="phone" column="phone" />
    <result property="email" column="email" />
    <result property="remark" column="remark" />
    <result property="groupPolicyId" column="group_policy_id" />
    <result property="extraInfo" column="extra_info" />
    <result property="policyId" column="policy_id" />
    <result property="resultType" column="result_type" />
    <result property="expiryDate" column="expiry_date" />
    <result property="channelOrderNo" column="channel_order_no" />
    <result property="policyNo" column="policy_no" />
    <result property="businessType" column="business_type" />
    <result property="endorsementNo" column="endorsement_no" />
  </resultMap>

  <sql id="groupInsuranceCommonExtension_columns" >
    a1.id, a1.creator, a1.gmt_created, a1.modifier, a1.gmt_modified, a1.is_deleted, a1.insurant_name, 
      a1.certi_type, a1.certi_no, a1.birthday, a1.gender, a1.effective_date, a1.phone, 
      a1.email, a1.remark, a1.group_policy_id, a1.extra_info, a1.policy_id, a1.result_type, 
      a1.expiry_date, a1.channel_order_no, a1.policy_no, a1.business_type, a1.endorsement_no
  </sql>

  <sql id="groupInsuranceCommonExtension_do_columns" >
    a1.id, a1.creator, a1.gmt_created, a1.modifier, a1.gmt_modified, a1.is_deleted, a1.insurant_name, 
      a1.certi_type, a1.certi_no, a1.birthday, a1.gender, a1.effective_date, a1.phone, 
      a1.email, a1.remark, a1.group_policy_id, a1.extra_info, a1.policy_id, a1.result_type, 
      a1.expiry_date, a1.channel_order_no, a1.policy_no, a1.business_type, a1.endorsement_no
  </sql>

  <sql id="queryParams" >
    <dynamic prepend="WHERE" >
      <isNotNull property="id" prepend="AND" >
        <![CDATA[  
        id = #id#  
        ]]>  
      </isNotNull>
      <isNotNull property="creator" prepend="AND" >
        <![CDATA[  
        creator = #creator#  
        ]]>  
      </isNotNull>
      <isNotNull property="gmtCreated" prepend="AND" >
        <![CDATA[  
        gmt_created = #gmtCreated#  
        ]]>  
      </isNotNull>
      <isNotNull property="modifier" prepend="AND" >
        <![CDATA[  
        modifier = #modifier#  
        ]]>  
      </isNotNull>
      <isNotNull property="gmtModified" prepend="AND" >
        <![CDATA[  
        gmt_modified = #gmtModified#  
        ]]>  
      </isNotNull>
      <isNotNull property="isDeleted" prepend="AND" >
        <![CDATA[  
        is_deleted = #isDeleted#  
        ]]>  
      </isNotNull>
      <isNotNull property="insurantName" prepend="AND" >
        <![CDATA[  
        insurant_name = #insurantName#  
        ]]>  
      </isNotNull>
      <isNotNull property="certiType" prepend="AND" >
        <![CDATA[  
        certi_type = #certiType#  
        ]]>  
      </isNotNull>
      <isNotNull property="certiNo" prepend="AND" >
        <![CDATA[  
        certi_no = #certiNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="birthday" prepend="AND" >
        <![CDATA[  
        birthday = #birthday#  
        ]]>  
      </isNotNull>
      <isNotNull property="gender" prepend="AND" >
        <![CDATA[  
        gender = #gender#  
        ]]>  
      </isNotNull>
      <isNotNull property="effectiveDate" prepend="AND" >
        <![CDATA[  
        effective_date = #effectiveDate#  
        ]]>  
      </isNotNull>
      <isNotNull property="phone" prepend="AND" >
        <![CDATA[  
        phone = #phone#  
        ]]>  
      </isNotNull>
      <isNotNull property="email" prepend="AND" >
        <![CDATA[  
        email = #email#  
        ]]>  
      </isNotNull>
      <isNotNull property="remark" prepend="AND" >
        <![CDATA[  
        remark = #remark#  
        ]]>  
      </isNotNull>
      <isNotNull property="groupPolicyId" prepend="AND" >
        <![CDATA[  
        group_policy_id = #groupPolicyId#  
        ]]>  
      </isNotNull>
      <isNotNull property="extraInfo" prepend="AND" >
        <![CDATA[  
        extra_info = #extraInfo#  
        ]]>  
      </isNotNull>
      <isNotNull property="policyId" prepend="AND" >
        <![CDATA[  
        policy_id = #policyId#  
        ]]>  
      </isNotNull>
      <isNotNull property="resultType" prepend="AND" >
        <![CDATA[  
        result_type = #resultType#  
        ]]>  
      </isNotNull>
      <isNotNull property="expiryDate" prepend="AND" >
        <![CDATA[  
        expiry_date = #expiryDate#  
        ]]>  
      </isNotNull>
      <isNotNull property="channelOrderNo" prepend="AND" >
        <![CDATA[  
        channel_order_no = #channelOrderNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="policyNo" prepend="AND" >
        <![CDATA[  
        policy_no = #policyNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="businessType" prepend="AND" >
        <![CDATA[  
        business_type = #businessType#  
        ]]>  
      </isNotNull>
      <isNotNull property="endorsementNo" prepend="AND" >
        <![CDATA[  
        endorsement_no = #endorsementNo#  
        ]]>  
      </isNotNull>
    </dynamic>
  </sql>

  <sql id="doQueryParams" >
    <dynamic prepend="WHERE" >
      <isNotNull property="id" prepend="AND" >
        <![CDATA[  
        id = #id#  
        ]]>  
      </isNotNull>
      <isNotNull property="creator" prepend="AND" >
        <![CDATA[  
        creator = #creator#  
        ]]>  
      </isNotNull>
      <isNotNull property="gmtCreated" prepend="AND" >
        <![CDATA[  
        gmt_created = #gmtCreated#  
        ]]>  
      </isNotNull>
      <isNotNull property="modifier" prepend="AND" >
        <![CDATA[  
        modifier = #modifier#  
        ]]>  
      </isNotNull>
      <isNotNull property="gmtModified" prepend="AND" >
        <![CDATA[  
        gmt_modified = #gmtModified#  
        ]]>  
      </isNotNull>
      <isNotNull property="isDeleted" prepend="AND" >
        <![CDATA[  
        is_deleted = #isDeleted#  
        ]]>  
      </isNotNull>
      <isNotNull property="insurantName" prepend="AND" >
        <![CDATA[  
        insurant_name = #insurantName#  
        ]]>  
      </isNotNull>
      <isNotNull property="certiType" prepend="AND" >
        <![CDATA[  
        certi_type = #certiType#  
        ]]>  
      </isNotNull>
      <isNotNull property="certiNo" prepend="AND" >
        <![CDATA[  
        certi_no = #certiNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="birthday" prepend="AND" >
        <![CDATA[  
        birthday = #birthday#  
        ]]>  
      </isNotNull>
      <isNotNull property="gender" prepend="AND" >
        <![CDATA[  
        gender = #gender#  
        ]]>  
      </isNotNull>
      <isNotNull property="effectiveDate" prepend="AND" >
        <![CDATA[  
        effective_date = #effectiveDate#  
        ]]>  
      </isNotNull>
      <isNotNull property="phone" prepend="AND" >
        <![CDATA[  
        phone = #phone#  
        ]]>  
      </isNotNull>
      <isNotNull property="email" prepend="AND" >
        <![CDATA[  
        email = #email#  
        ]]>  
      </isNotNull>
      <isNotNull property="remark" prepend="AND" >
        <![CDATA[  
        remark = #remark#  
        ]]>  
      </isNotNull>
      <isNotNull property="groupPolicyId" prepend="AND" >
        <![CDATA[  
        group_policy_id = #groupPolicyId#  
        ]]>  
      </isNotNull>
      <isNotNull property="extraInfo" prepend="AND" >
        <![CDATA[  
        extra_info = #extraInfo#  
        ]]>  
      </isNotNull>
      <isNotNull property="policyId" prepend="AND" >
        <![CDATA[  
        policy_id = #policyId#  
        ]]>  
      </isNotNull>
      <isNotNull property="resultType" prepend="AND" >
        <![CDATA[  
        result_type = #resultType#  
        ]]>  
      </isNotNull>
      <isNotNull property="expiryDate" prepend="AND" >
        <![CDATA[  
        expiry_date = #expiryDate#  
        ]]>  
      </isNotNull>
      <isNotNull property="channelOrderNo" prepend="AND" >
        <![CDATA[  
        channel_order_no = #channelOrderNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="policyNo" prepend="AND" >
        <![CDATA[  
        policy_no = #policyNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="businessType" prepend="AND" >
        <![CDATA[  
        business_type = #businessType#  
        ]]>  
      </isNotNull>
      <isNotNull property="endorsementNo" prepend="AND" >
        <![CDATA[  
        endorsement_no = #endorsementNo#  
        ]]>  
      </isNotNull>
    </dynamic>
  </sql>


  <sql id="doQueryCommonParams" >
	  <dynamic prepend="WHERE" >
	  	<isNotEmpty property="id" prepend="AND" >
	      	<![CDATA[  
	      	  a1.id = #id#  
	      	]]>  
	    </isNotEmpty>
	    <isNotEmpty property="insurantName" prepend="AND"> 
			<![CDATA[ 
			  a1.insurant_name = #insurantName# 
			]]> 
		</isNotEmpty>
		<isNotEmpty property="phone" prepend="AND"> 
			<![CDATA[ 
			  a1.phone = #phone# 
			]]> 
		</isNotEmpty>
	    <isNotEmpty property="startTime" prepend="AND"> 
			<![CDATA[ 
			    a1.gmt_created >= #startTime# 
			]]> 
		</isNotEmpty> 
		<isNotEmpty property="endTime" prepend="AND"> 
			<![CDATA[ 
			    a1.gmt_created <= #endTime# 
			]]> 
		</isNotEmpty> 
		<isNotEmpty property="certiType" prepend="AND"> 
			<![CDATA[ 
			  a1.certi_type = #certiType# 
			]]> 
		</isNotEmpty>
		<isNotEmpty property="certiNo" prepend="AND"> 
			<![CDATA[ 
			  a1.certi_no = #certiNo# 
			]]> 
		</isNotEmpty>
		<isNotEmpty property="effectiveDate" prepend="AND"> 
			<![CDATA[ 
			  a1.effective_date = #effectiveDate# 
			]]> 
		</isNotEmpty>
		<isNotEmpty property="endorsementNo" prepend="AND" >
	        <![CDATA[  
	         a1.endorsement_no = #endorsementNo#  
	        ]]>  
	    </isNotEmpty>
	    <isNotEmpty property="businessType" prepend="AND" >
	        <![CDATA[  
	         a1.business_type = #businessType#  
	        ]]>  
	    </isNotEmpty>
	    <isNotEmpty property="resultType" prepend="AND" >
	        <![CDATA[  
	         a1.result_type = #resultType#  
	        ]]>  
	    </isNotEmpty>
	    <isNotEmpty property="channelOrderNo" prepend="AND" >
	        <![CDATA[  
	         a1.channel_order_no = #channelOrderNo#  
	        ]]>  
	    </isNotEmpty>
	 </dynamic>
  </sql>


  <insert id="insert" parameterClass="groupInsuranceCommonExtensionDO" >
    INSERT INTO group_insurance_common_extension( id, creator, gmt_created, modifier, gmt_modified, is_deleted, 
      insurant_name, certi_type, certi_no, birthday, gender, effective_date, 
      phone, email, remark, group_policy_id, extra_info, policy_id, result_type, 
      expiry_date, channel_order_no, policy_no, business_type, endorsement_no)
     VALUES ( #id#, #creator#, now(), #modifier#, now(), 'N', 
      #insurantName#, #certiType#, #certiNo#, #birthday#, #gender#, #effectiveDate#, 
      #phone#, #email#, #remark#, #groupPolicyId#, #extraInfo#, #policyId#, #resultType#, 
      #expiryDate#, #channelOrderNo#, #policyNo#, #businessType#, #endorsementNo#)
    <selectKey keyProperty="id" resultClass="java.lang.Long" >
      SELECT LAST_INSERT_ID() AS value
    </selectKey>
  </insert>

  <update id="update" parameterClass="groupInsuranceCommonExtensionDO" >
    UPDATE group_insurance_common_extension   
    <dynamic prepend="SET" >
      <!--
      <isNotNull property="id" prepend="," >
        <![CDATA[  
        id = #id#  
        ]]>  
      </isNotNull>
      -->
      <isNotNull property="creator" prepend="," >
        <![CDATA[  
        creator = #creator#  
        ]]>  
      </isNotNull>
      <isNotNull property="gmtCreated" prepend="," >
        <![CDATA[  
        gmt_created = #gmtCreated#  
        ]]>  
      </isNotNull>
      <isNotNull property="modifier" prepend="," >
        <![CDATA[  
        modifier = #modifier#  
        ]]>  
      </isNotNull>
      <isNotNull property="gmtModified" prepend="," >
        <![CDATA[  
        gmt_modified = #gmtModified#  
        ]]>  
      </isNotNull>
      <isNotNull property="isDeleted" prepend="," >
        <![CDATA[  
        is_deleted = #isDeleted#  
        ]]>  
      </isNotNull>
      <isNotNull property="insurantName" prepend="," >
        <![CDATA[  
        insurant_name = #insurantName#  
        ]]>  
      </isNotNull>
      <isNotNull property="certiType" prepend="," >
        <![CDATA[  
        certi_type = #certiType#  
        ]]>  
      </isNotNull>
      <isNotNull property="certiNo" prepend="," >
        <![CDATA[  
        certi_no = #certiNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="birthday" prepend="," >
        <![CDATA[  
        birthday = #birthday#  
        ]]>  
      </isNotNull>
      <isNotNull property="gender" prepend="," >
        <![CDATA[  
        gender = #gender#  
        ]]>  
      </isNotNull>
      <isNotNull property="effectiveDate" prepend="," >
        <![CDATA[  
        effective_date = #effectiveDate#  
        ]]>  
      </isNotNull>
      <isNotNull property="phone" prepend="," >
        <![CDATA[  
        phone = #phone#  
        ]]>  
      </isNotNull>
      <isNotNull property="email" prepend="," >
        <![CDATA[  
        email = #email#  
        ]]>  
      </isNotNull>
      <isNotNull property="remark" prepend="," >
        <![CDATA[  
        remark = #remark#  
        ]]>  
      </isNotNull>
      <isNotNull property="groupPolicyId" prepend="," >
        <![CDATA[  
        group_policy_id = #groupPolicyId#  
        ]]>  
      </isNotNull>
      <isNotNull property="extraInfo" prepend="," >
        <![CDATA[  
        extra_info = #extraInfo#  
        ]]>  
      </isNotNull>
      <isNotNull property="policyId" prepend="," >
        <![CDATA[  
        policy_id = #policyId#  
        ]]>  
      </isNotNull>
      <isNotNull property="resultType" prepend="," >
        <![CDATA[  
        result_type = #resultType#  
        ]]>  
      </isNotNull>
      <isNotNull property="expiryDate" prepend="," >
        <![CDATA[  
        expiry_date = #expiryDate#  
        ]]>  
      </isNotNull>
      <isNotNull property="channelOrderNo" prepend="," >
        <![CDATA[  
        channel_order_no = #channelOrderNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="policyNo" prepend="," >
        <![CDATA[  
        policy_no = #policyNo#  
        ]]>  
      </isNotNull>
      <isNotNull property="businessType" prepend="," >
        <![CDATA[  
        business_type = #businessType#  
        ]]>  
      </isNotNull>
      <isNotNull property="endorsementNo" prepend="," >
        <![CDATA[  
        endorsement_no = #endorsementNo#  
        ]]>  
      </isNotNull>
    </dynamic>
     WHERE id = #id#  
  </update>

  <select id="findByPrimaryKey" parameterClass="java.lang.Long" resultMap="groupInsuranceCommonExtensionDOResultMap" >
     SELECT 
    <include refid="groupInsuranceCommonExtension_do_columns" />
    <![CDATA[  
     FROM group_insurance_common_extension a1 WHERE id = #id#
    ]]>  
  </select>
  
  <select id="findPeriodListByExample" resultMap="groupInsuranceCommonExtensionDOResultMap" parameterClass="groupInsuranceCommonExtensionDO" >
    SELECT 
    <include refid="groupInsuranceCommonExtension_do_columns" />
    <![CDATA[  FROM group_insurance_common_extension a1  
    where is_deleted="N" and result_type="1" and certi_no = #certiNo#  and certi_type = #certiType# and
     ((effective_date <= #effectiveDate#  and expiry_date >= #effectiveDate# ) or (effective_date <= #expiryDate#  and expiry_date >= #expiryDate# )) 
	]]>
  </select>

  <delete id="deleteByPrimaryKey" parameterClass="java.lang.Long" >
    <![CDATA[  
     DELETE FROM group_insurance_common_extension WHERE id = #id#
    ]]>  
  </delete>

  <select id="countByDOExample" parameterClass="groupInsuranceCommonExtensionDO" resultClass="java.lang.Integer" >
    SELECT COUNT(id) AS num FROM group_insurance_common_extension 
    <include refid="doQueryParams" />
  </select>

  <select id="findListByDO" resultMap="groupInsuranceCommonExtensionDOResultMap" parameterClass="groupInsuranceCommonExtensionDO" >
     SELECT 
    <include refid="groupInsuranceCommonExtension_do_columns" />
     FROM group_insurance_common_extension a1 
    <include refid="doQueryParams" />
  </select>
  
  <select id="findCommonListByDO" resultMap="groupInsuranceCommonExtensionDOResultMap" parameterClass="groupInsuranceCommonExtensionDO" >
     SELECT 
    <include refid="groupInsuranceCommonExtension_do_columns" />
     FROM group_insurance_common_extension a1 
    <include refid="doQueryCommonParams" />
  </select>
    
</sqlMap>